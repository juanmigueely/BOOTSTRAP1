(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{4463:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/timepieces",function(){return r(6137)}])},239:function(e,t,r){"use strict";r.d(t,{C:function(){return ErrorMsg}});var n=r(1527),i=r(1812),s=r.n(i),o=r(860);let ErrorMsg=e=>{let{txt:t="Ups! Something went wrong"}=e,{headerHeight:r}=(0,o.t)();return(0,n.jsx)("div",{className:s().container,style:{paddingTop:`${1.5*r}px`},children:(0,n.jsx)("p",{className:s().text,tabIndex:0,children:t})})}},4274:function(e,t,r){"use strict";r.d(t,{R:function(){return ChevronCircleDownDark},X:function(){return ChevronCircleDownLight}});var n=r(1527);let ChevronCircleDownLight=()=>(0,n.jsxs)("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:"7.38607",cy:"6.72569",r:"6.44166",stroke:"#D9D9D9",strokeWidth:"0.374705"}),(0,n.jsx)("path",{d:"M7.14028 10.1874C7.2513 10.4808 7.29095 10.568 7.35439 10.568C7.4099 10.568 7.43369 10.4887 7.59229 10.1318C7.86191 9.52124 8.2029 8.71238 8.6787 7.54667C9.08313 6.57129 9.31309 5.98447 9.53513 5.41351C9.75717 4.85841 9.85233 4.7236 9.95542 4.6443C10.0664 4.565 10.2013 4.54121 10.3519 4.54121C10.4154 4.54121 10.4392 4.53328 10.4392 4.50156C10.4392 4.46984 10.4074 4.46191 10.3281 4.46191C10.0982 4.46191 9.79682 4.4857 9.72545 4.4857C9.63822 4.4857 9.30516 4.46191 9.02762 4.46191C8.94039 4.46191 8.90867 4.46984 8.90867 4.50156C8.90867 4.53328 8.93246 4.54121 8.98004 4.54121C9.05141 4.54121 9.11484 4.54121 9.20208 4.565C9.36067 4.59672 9.38446 4.66016 9.38446 4.74739C9.38446 4.81876 9.35274 4.9615 9.30516 5.08838C9.12278 5.68313 7.95707 8.65687 7.46541 9.81465L5.75253 5.35007C5.6653 5.1201 5.55429 4.81083 5.55429 4.71567C5.55429 4.65223 5.57015 4.59672 5.68909 4.565C5.76839 4.54914 5.85562 4.54121 5.91113 4.54121C5.96664 4.54121 5.9825 4.53328 5.9825 4.50156C5.9825 4.46984 5.94285 4.46191 5.83183 4.46191C5.65737 4.46191 5.30053 4.47777 5.2133 4.47777C5.10228 4.47777 4.77715 4.46191 4.48374 4.46191C4.38858 4.46191 4.33307 4.46191 4.33307 4.50156C4.33307 4.52535 4.35686 4.54121 4.41237 4.54121C4.45202 4.54121 4.52339 4.54121 4.62648 4.565C4.94368 4.62051 5.01505 4.74739 5.19744 5.22319L7.14028 10.1874Z",fill:"#D9D9D9"})]}),ChevronCircleDownDark=()=>(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:"7.26573",cy:"6.86827",r:"6.44166",stroke:"#0A0A0A",strokeWidth:"0.374705"}),(0,n.jsx)("path",{d:"M7.0201 10.3297C7.13112 10.6231 7.17077 10.7103 7.23421 10.7103C7.28972 10.7103 7.31351 10.631 7.47211 10.2742C7.74173 9.66357 8.08272 8.85472 8.55852 7.68901C8.96295 6.71362 9.19292 6.1268 9.41496 5.55585C9.63699 5.00075 9.73215 4.86594 9.83524 4.78664C9.94626 4.70734 10.0811 4.68355 10.2317 4.68355C10.2952 4.68355 10.319 4.67562 10.319 4.6439C10.319 4.61218 10.2873 4.60425 10.208 4.60425C9.97798 4.60425 9.67664 4.62804 9.60527 4.62804C9.51805 4.62804 9.18499 4.60425 8.90744 4.60425C8.82021 4.60425 8.78849 4.61218 8.78849 4.6439C8.78849 4.67562 8.81228 4.68355 8.85986 4.68355C8.93123 4.68355 8.99467 4.68355 9.0819 4.70734C9.2405 4.73906 9.26429 4.8025 9.26429 4.88973C9.26429 4.9611 9.23257 5.10384 9.18499 5.23072C9.0026 5.82546 7.83689 8.79921 7.34523 9.95698L5.63236 5.49241C5.54513 5.26244 5.43411 4.95317 5.43411 4.85801C5.43411 4.79457 5.44997 4.73906 5.56892 4.70734C5.64822 4.69148 5.73545 4.68355 5.79096 4.68355C5.84647 4.68355 5.86233 4.67562 5.86233 4.6439C5.86233 4.61218 5.82268 4.60425 5.71166 4.60425C5.5372 4.60425 5.18035 4.62011 5.09312 4.62011C4.9821 4.62011 4.65697 4.60425 4.36356 4.60425C4.2684 4.60425 4.21289 4.60425 4.21289 4.6439C4.21289 4.66769 4.23668 4.68355 4.29219 4.68355C4.33184 4.68355 4.40321 4.68355 4.5063 4.70734C4.8235 4.76285 4.89487 4.88973 5.07726 5.36553L7.0201 10.3297Z",fill:"#0A0A0A"})]})},2172:function(e,t,r){"use strict";r.d(t,{W:function(){return SearchIcon}});var n=r(1527);let SearchIcon=()=>(0,n.jsxs)("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:"7.27724",cy:"7.47569",r:"6.44166",transform:"rotate(90 7.27724 7.47569)",stroke:"#D9D9D9",strokeWidth:"0.374705"}),(0,n.jsx)("circle",{cx:"6.67626",cy:"6.56958",r:"2.46451",transform:"rotate(90 6.67626 6.56958)",stroke:"#D9D9D9",strokeWidth:"0.374705"}),(0,n.jsx)("line",{x1:"8.17378",y1:"8.41411",x2:"10.6629",y2:"10.9032",stroke:"#D9D9D9",strokeWidth:"0.37"})]})},8461:function(e,t,r){"use strict";r.d(t,{H:function(){return SEO}});var n=r(1527),i=r(8034),s=r.n(i),o=r(5332),l=r(5589),a=r(6707),c=r(4359);let u=(0,c.F)(),getCanonicalTag=e=>(0,a.C)({queryKey:["canonical-tag",e],queryFn:async()=>{let t=await u.public.services.product_schema.fetchCanonicalTag.query({source:e});return t}}),SEO=e=>{let{title:t,description:r,image:i,twitterCard:a}=e,c=(0,o.useRouter)(),{data:u}=(0,l.a)(getCanonicalTag(c.asPath));return(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:t||"Jacob & Co."}),(0,n.jsx)("meta",{property:"og:title",content:t||"Jacob & Co."}),(0,n.jsx)("meta",{name:"description",content:r||"The driving force for Jacob & Co. is creativity and uniqueness."}),(0,n.jsx)("meta",{property:"og:site_name",content:"Jacob&Co."}),(0,n.jsx)("meta",{property:"og:site_url",content:`https://jacobandco.com${c.asPath.split("?")[0]}`}),(0,n.jsx)("meta",{property:"og:image",content:i?i.url:""}),(0,n.jsx)("meta",{name:"twitter:card",content:a||"summary"}),(0,n.jsx)("meta",{name:"twitter:site",content:"@_Jacobandco"}),null!=u&&(0,n.jsx)("link",{rel:"canonical",href:u})]})}},6213:function(e,t,r){"use strict";r.d(t,{I:function(){return pushHistoryState},g:function(){return replaceHistoryState}});let pushHistoryState=e=>{window.history.pushState(window.history.state,"",e)},replaceHistoryState=e=>{window.history.replaceState(window.history.state,"",e)}},6707:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(5669);let i=n.C},9799:function(e,t,r){"use strict";r.d(t,{m:function(){return useApiClient}});var n=r(959),i=r(4359);let useApiClient=()=>{let[e]=(0,n.useState)(i.F);return e}},1863:function(e,t,r){"use strict";r.d(t,{a:function(){return useMediaQuery}});var n=r(959);let i=n.useLayoutEffect;function useMediaQuery(e){let{defaultValue:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[r,s]=(0,n.useState)(t);return i(()=>{let t=new AbortController,r=window.matchMedia(e);return s(()=>r.matches),r.addEventListener("change",e=>{s(()=>e.matches)},{signal:t.signal}),()=>{t.abort()}},[e]),r}},6137:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return q},default:function(){return timepieces}});var n=r(1527),i=r(8461),s=r(5332),o=r(959);let useRestoreScrollPosition=()=>{let e=(0,s.useRouter)();(0,o.useEffect)(()=>{if(void 0!==window.history){let e=window.history;"scrollRestoration"in e&&"manual"!==e.scrollRestoration&&(e.scrollRestoration="manual")}},[]),(0,o.useEffect)(()=>{let handleRouteChangeStart=()=>{sessionStorage.setItem("scrollPosition",window.scrollY.toString())};return e.events.on("routeChangeStart",handleRouteChangeStart),()=>{e.events.off("routeChangeStart",handleRouteChangeStart)}},[e]),(0,o.useEffect)(()=>{let e=sessionStorage.getItem("scrollPosition");e&&(window.scrollTo(0,parseFloat(e)),sessionStorage.removeItem("scrollPosition"))},[])};var l=r(5653),a=r(7396),c=r(260),u=r(3804),d=r(6213),h=r(860),f=r(5890),p=r(7743),m=r(4359);let getAllTimepieces=async e=>{let{pageParam:t,queryKey:r}=e,[,n,i,s]=r,o=(0,m.F)(),{products:l}=await o.public.views.timepieces.getAllTimepieces.query({perPage:s,skip:t,filter:i,searchQuery:n});return{__typename:"TimepieceProductData",queryKey:r,products:l}},makeGetAllTimepiecesOptions=e=>{let{searchQuery:t,filter:r,initialPage:n,perPage:i}=e;return(0,p.t)({initialPageParam:n<1?0:(n-1)*i,getNextPageParam:(e,t,r)=>e.products.length<i?void 0:r+i,queryKey:["get-all-timepieces",t,r,i],queryFn:getAllTimepieces})};var g=r(5341),w=r(4881),_=r(7123),v=r(6754),y=r(1863),C=r(209),x=r.n(C);let Grid=e=>{let{products:t}=e,r=(0,y.a)("(min-width: 640px)"),i=(0,o.useCallback)(e=>{if(!e)return;let t=[...e.querySelectorAll(".js-grid-title-word")];t.filter(v.EN).forEach(t=>{let r=e.getBoundingClientRect().bottom,n=t.getBoundingClientRect().bottom;10>=Math.abs(r-n)?t.classList.add(x().line):t.classList.remove(x().line)});let r=t.filter(e=>e.classList.contains(x().line));if(r.length>1){let e=r.map(e=>e.textContent).join(" ");r.map((t,r,n)=>{r===n.length-1?t.textContent=e:t.remove()})}},[]),[s,l]=(0,o.useState)([]),a=(0,o.useMemo)(()=>{let e=t.filter(e=>e.collection&&!0!==e.hidden),n=r?4:2,i=[];for(let t=0;t<e.length;t+=n)i.push(e.slice(t,t+n));return i},[t,r]);return(0,n.jsx)("div",{className:x().container,children:a.map((e,t)=>(0,n.jsx)("div",{ref:e=>{s[t]=e,l(()=>s)},className:(0,g.Z)(x().row,"js-row"),children:e.filter(e=>!e.hidden).map(e=>e.collection?(0,n.jsx)(_.S,{href:e.collection,"data-timepiece-id":e.id,className:"js-item",children:(0,n.jsxs)("div",{className:(0,g.Z)(x().item,"js-item-content"),children:[(0,n.jsx)("div",{className:x().image,children:e.image&&(0,n.jsx)(w.l,{priority:0===t,image:e.image,objectPosition:"center center",objectFit:"contain"})}),(0,n.jsx)("div",{className:x().titleHolder,children:(0,n.jsx)("p",{ref:i,className:(0,g.Z)(x().title,"js-product-title"),children:e.name.split(" ").map((e,t)=>(0,n.jsx)("span",{className:(0,g.Z)(x().word,"js-grid-title-word"),children:e},`${e}-${t}`))})})]})},e.id):null).filter(v.EN)},`grid-row-${t}`)).filter(v.EN)})};var b=r(5589),j=r(4274),P=r(2172),N=r(4098),S=r(9799),E=r(5315),R=r.n(E);let SearchBar=e=>{let{productNames:t,sendSearchQuery:r,sendSelectedFilter:i}=e,l=(0,s.useRouter)(),a=(0,S.m)(),{data:c,error:u}=(0,b.a)({queryKey:["search-bar-timepiece-filters"],queryFn:()=>a.public.views.timepieces.getTimepieceFilters.query()}),d=(0,o.useMemo)(()=>null==c?[]:c.filters.flatMap(e=>t.includes(e.name)?[e.name]:[]),[c,t]),[h,f]=(0,o.useState)(null);(0,o.useEffect)(()=>{if(null!=h)return;let{q:e}=l.query,t="string"==typeof e&&e.length>0?decodeURIComponent(e):null;t&&f(t)},[h,l.query]),(0,o.useEffect)(()=>{r(h)},[h,r]);let[p,m]=(0,o.useState)(null);(0,o.useEffect)(()=>{m(e=>null==e?e:d.includes(e)?e:null)},[d]),(0,o.useEffect)(()=>{i(p)},[p,i]);let[w,_]=(0,o.useState)(!1);return u&&console.error("Failed to fetch timepiece filters",u),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:(0,g.Z)(R().container,"js-search-bar"),children:[(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault()},className:R().bar,children:[(0,n.jsx)("input",{className:R().input,placeholder:"MODEL NUMBER, COLLECTION...",value:h||"",onChange:e=>{f(e.target.value)}}),(0,n.jsx)("button",{type:"submit","aria-label":"Search",className:R().button,children:(0,n.jsx)("div",{className:R().image,children:(0,n.jsx)(P.W,{})})})]}),d.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:R().bottom,children:(0,n.jsxs)("div",{onClick:()=>{_(!0)},onKeyUp:e=>{"Enter"===e.key&&_(!0)},className:R().dropdown,tabIndex:0,children:[(0,n.jsx)("p",{className:R().dropdownTitle,children:p||"SHOP BY COLLECTION"}),(0,n.jsx)("div",{className:R().dropdownArrow,children:(0,n.jsx)(j.X,{})})]})}),(0,n.jsx)(N.v,{isOpen:w,close:()=>{_(!1)},theme:"black",title:"TIMEPIECES",items:[{title:"SHOW ALL",onClick:()=>{m(null)}},...d.map(e=>({title:e||"",onClick:()=>{m(e)}}))]})]}):null,(0,n.jsx)("div",{className:R().containerGradient})]})})};var T=r(4391),I=r.n(T),M=r(4529),L=r(6036),k=r.n(L),O=r(4741),D=r.n(O);let easeOutQuint=e=>1-Math.pow(1-e,5),TopNav=e=>{let{title:t="TIMEPIECES"}=e,[r,i]=(0,o.useState)(null),[s,l]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(null==r)return;let e=k()(r,{maxSize:110});e.fit();let onFit=()=>{setTimeout(()=>{u.ScrollTrigger.refresh()},100)};return r.addEventListener("fit",onFit),()=>{r.removeEventListener("fit",onFit)}},[r]),(0,o.useEffect)(()=>{if(null==s||null==r)return;let e=(0,M.P)(()=>{let e=s.getBoundingClientRect().height;if(e<=0)return;let t=window.scrollY/e,n=1-easeOutQuint(t),i=Math.min(1,Math.max(0,n));r.style.opacity=i.toString()},10);return document.addEventListener("scroll",e,{passive:!0}),e(),()=>{document.removeEventListener("scroll",e)}},[s,r]),(0,n.jsx)("div",{ref:l,className:D().topNav,children:(0,n.jsx)("div",{className:(0,g.Z)(D().top,"js-title-top"),children:(0,n.jsx)("h1",{ref:i,className:D().topTitle,children:t})})})},useSearchQuery=()=>{let[e,t]=(0,o.useState)("initial"),[r,n]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=new URL(window.location.href),r=decodeURIComponent(e.searchParams.get("q")||"");n(()=>r||null),t("ready")},[]),(0,o.useEffect)(()=>{if("initial"===e)return;let t=new URL(window.location.href),n=decodeURIComponent(t.searchParams.get("q")||"");if(null==r){t.searchParams.delete("q"),(0,d.g)(t);return}r!==n&&(t.searchParams.set("q",r),(0,d.g)(t))},[r,e]);let i=(0,o.useMemo)(()=>(0,M.D)(e=>{n(()=>e&&e.length?e:null)},500),[]);return[r,i]},useFilterParameter=()=>{let[e,t]=(0,o.useState)("initial"),[r,n]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=new URL(window.location.href),r=decodeURIComponent(e.searchParams.get("filter")||"");n(()=>r||null),t("ready")},[]),(0,o.useEffect)(()=>{if("initial"===e)return;let t=new URL(window.location.href),n=decodeURIComponent(t.searchParams.get("filter")||"");if(null==r){t.searchParams.delete("filter"),(0,d.g)(t);return}r!==n&&(t.searchParams.set("filter",r),(0,d.g)(t))},[r,e]);let i=(0,o.useCallback)(e=>{n(()=>e&&e.length?e:null)},[]);return[r,i]};var A=r(239);let TimepiecesView=e=>{let{prefetched:t}=e,r=(0,f.x)(e=>e.status),{headerHeight:i}=(0,h.t)({onResize:()=>{u.ScrollTrigger.refresh()}}),[s,l]=useSearchQuery(),[p,m]=useFilterParameter();(0,o.useEffect)(()=>{if(!s)return;let e=new URL(window.location.href),t=decodeURIComponent(e.searchParams.get("q")||"");s!==t&&(e.searchParams.set("q",encodeURIComponent(s)),(0,d.g)(e))},[s]),(0,o.useEffect)(()=>{if(!p)return;let e=new URL(window.location.href),t=decodeURIComponent(e.searchParams.get("filter")||"");p!==t&&(e.searchParams.set("filter",encodeURIComponent(p)),(0,d.g)(e))},[p]);let{data:g,error:w,fetchNextPage:_,hasNextPage:v}=(0,a.N)(makeGetAllTimepiecesOptions({searchQuery:s,filter:p,initialPage:1+t.pages.length,perPage:20}));(0,o.useEffect)(()=>{let e=t.pages.length+((null==g?void 0:g.pageParams.length)||1),r=new URL(window.location.href),n=parseInt(decodeURIComponent(r.searchParams.get("page")||""),10),i=!1===Number.isNaN(n),s=i&&1===e?"delete":i&&e===n?"do-nothing":1===e?"do-nothing":"update";"do-nothing"!==s&&("delete"===s?r.searchParams.delete("page"):r.searchParams.set("page",e.toString()),(0,d.g)(r))},[g,t]),(0,o.useEffect)(()=>{u.ScrollTrigger.refresh()},[g]);let y=(0,o.useCallback)(()=>{v&&_().catch(e=>{console.error(e)})},[_,v]),{observe:C}=(0,c.Y)({onEnter:y,rootMargin:"100%"}),x=(0,o.useMemo)(()=>{let e=t.pages.flatMap(e=>e.products),r=(null==g?void 0:g.pages.flatMap(e=>e.products))||[];return[...e,...r]},[g,t]),b=(0,o.useMemo)(()=>x.map(e=>e.name),[x]);return w?(console.error(w),(0,n.jsx)(A.C,{})):(0,n.jsxs)("div",{className:I().container,children:[(0,n.jsx)("div",{className:I().searchHolder,style:{paddingTop:i-20,transform:`translateY(-${"hide"===r?i-20:0}px)`},children:(0,n.jsx)(SearchBar,{productNames:b,sendSearchQuery:l,sendSelectedFilter:m})}),(s||w)&&x.length<1&&(0,n.jsx)(TopNav,{title:`No results for "${s}"`}),(0,n.jsx)("h1",{className:I().hiddenTitle,tabIndex:0,children:"TIMEPIECES"}),(0,n.jsx)(Grid,{products:x}),(0,n.jsx)("div",{ref:C})]})};var q=!0,timepieces=function(e){let{layoutContent:t,pageSeo:r,prefetched:s}=e;return useRestoreScrollPosition(),(0,n.jsxs)(l.A,{content:t,children:[(0,n.jsx)(i.H,{...r}),(0,n.jsx)(TimepiecesView,{prefetched:s})]})}},1812:function(e){e.exports={container:"style_container__zmhQp",text:"style_text__swwQX"}},209:function(e){e.exports={container:"style_container__x7wSu",row:"style_row__NRrQP",item:"style_item__W_z08",image:"style_image__MUpqf",title:"style_title__8ZNnc",word:"style_word__ZO3DZ",line:"style_line__B3pUf",hoverAnim:"style_hoverAnim__LLHdA",titleHolder:"style_titleHolder___7EgR"}},5315:function(e){e.exports={container:"style_container__mMe0e",containerGradient:"style_containerGradient__BNMcX",bar:"style_bar__YIVz_",input:"style_input__LRL6b",button:"style_button__kkdK3",image:"style_image__cVXyw",bottom:"style_bottom__ZFnwU",dropdown:"style_dropdown__HAQYQ",dropdownTitle:"style_dropdownTitle__Xl5q2",dropdownArrow:"style_dropdownArrow__Fa1mp"}},4741:function(e){e.exports={topNav:"style_topNav__j52dl",bottom:"style_bottom__bXN6c",dropdown:"style_dropdown__lbh7e",dropdownTitle:"style_dropdownTitle__DNO1E",dropdownArrow:"style_dropdownArrow__IrhTZ",top:"style_top__6fMnX",left:"style_left__0TFNW",right:"style_right__bP_Io",disabled:"style_disabled__s4mug",topTitle:"style_topTitle__C2Dll"}},4391:function(e){e.exports={container:"style_container__n78Pq",searchHolder:"style_searchHolder___OEO7",hiddenTitle:"style_hiddenTitle__H7B6A"}},260:function(e,t,r){"use strict";r.d(t,{Y:function(){return useInView}});var n=r(959);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var useLatest=function(e){var t=(0,n.useRef)(e);return t.current=e,t},useInView=function(e){var t=void 0===e?{}:e,r=t.root,i=t.rootMargin,s=t.threshold,o=void 0===s?0:s,l=t.trackVisibility,a=t.delay,c=t.unobserveOnEnter,u=t.onChange,d=t.onEnter,h=t.onLeave,f=(0,n.useState)({inView:!1,scrollDirection:{}}),p=f[0],m=f[1],g=(0,n.useRef)(!1),w=(0,n.useRef)({}),_=(0,n.useRef)(),v=(0,n.useRef)(!1),y=useLatest(u),C=useLatest(d),x=useLatest(h),b=(0,n.useRef)(),j=(0,n.useCallback)(function(){_.current&&(_.current.disconnect(),w.current={})},[]),P=(0,n.useCallback)(function(e){e&&e!==b.current&&(j(),b.current=e),_.current&&b.current&&_.current.observe(b.current)},[j]),N=(0,n.useCallback)(function(){if(b.current){var e=b.current.getBoundingClientRect(),t=e.x,r=e.y;w.current={x:t,y:r}}},[b]);return(0,n.useEffect)(function(){if(!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window))return console.error("\uD83D\uDCA1 react-cool-inview: the browser doesn't support Intersection Observer, please install polyfill: https://github.com/wellyshen/react-cool-inview#intersection-observer-polyfill"),function(){return null};var e=!0;return _.current=new IntersectionObserver(function(t){var r=t[0],n=r.intersectionRatio,i=r.isIntersecting,s=r.boundingClientRect,a=s.x,u=s.y,d=r.isVisible,h={},f=Array.isArray(o)?Math.min.apply(Math,o):o,p=void 0!==i?i:n>0;p=f>0?n>=f:p,a<w.current.x&&(h.horizontal="left"),a>w.current.x&&(h.horizontal="right"),w.current.x=a,u<w.current.y&&(h.vertical="up"),u>w.current.y&&(h.vertical="down"),w.current.y=u;var _={entry:r,scrollDirection:h,observe:P,unobserve:j};l&&(void 0!==d||v.current||(console.warn("\uD83D\uDCA1 react-cool-inview: the browser doesn't support Intersection Observer v2, fallback to v1 behavior"),v.current=!0),void 0!==d&&(p=d)),p&&!g.current&&(c&&j(),C.current&&C.current(_)),!p&&g.current&&x.current&&x.current(_),y.current&&y.current(_extends({},_,{inView:p})),e&&m({inView:p,scrollDirection:h,entry:r}),g.current=p},{root:r,rootMargin:i,threshold:o,trackVisibility:l,delay:a}),P(),function(){e=!1,j()}},[c,r,i,JSON.stringify(o),l,a,P,j]),_extends({},p,{observe:P,unobserve:j,updatePosition:N})}},7743:function(e,t,r){"use strict";function infiniteQueryOptions(e){return e}r.d(t,{t:function(){return infiniteQueryOptions}})},7396:function(e,t,r){"use strict";r.d(t,{N:function(){return useInfiniteQuery}});var n=r(8390),i=r(4116),s=class extends n.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,i.Gm)()},t)}getOptimisticResult(e){return e.behavior=(0,i.Gm)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:r}=e,n=super.createResult(e,t),{isFetching:s,isRefetching:o}=n,l=s&&r.fetchMeta?.fetchMore?.direction==="forward",a=s&&r.fetchMeta?.fetchMore?.direction==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,i.Qy)(t,r.data),hasPreviousPage:(0,i.ZF)(t,r.data),isFetchingNextPage:l,isFetchingPreviousPage:a,isRefetching:o&&!l&&!a}}},o=r(5797);function useInfiniteQuery(e,t){return(0,o.r)(e,s,t)}}},function(e){e.O(0,[7455,9125,6281,5653,9774,2888,179],function(){return e(e.s=4463)}),_N_E=e.O()}]);